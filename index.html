<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trading Advisor</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <script src="static/js/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script> 
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis"></script> 
</head>
<body>
    <div class="tab">
        <button class="tablinks" id="stock-trading-tab" onclick="showTab('stock-trading')">Stock Trading</button>
        <button class="tablinks" id="option-trading-tab" onclick="showTab('option-trading')">Option Trading</button>
    </div>
    <div id="stock-trading" class="tab-content active">
        <!-- Stock Trading Content -->
        <br>
        <div>
            <label for="stock-symbol">Stock Symbol:</label>
            <input type="text" id="stock-symbol" value="NVDA" placeholder="Enter stock symbol">
        </div>
        <div>
            <label for="stock-start-date">Start Date:</label>
            <input type="date" id="stock-start-date">
            <label for="stock-end-date">End Date:</label>
            <input type="date" id="stock-end-date">
        </div>
        <button class="large-button" onclick="fetchData('stock')">获取/展示数据</button>
        <button class="large-button" onclick="getStockRecommendation()">股票交易建议</button>
				<button class="large-button" onclick="simulateStock()">股票交易模拟</button>
        <div id="stock-data">
            <canvas id="stock-candle-chart" width="800" height="350"></canvas>
            <canvas id="stock-macd-chart" width="800" height="160"></canvas>
            <canvas id="stock-kdj-chart" width="800" height="160"></canvas>
            <div id="stock-dynamic-chart-container" style="width: 960px; height: 200px;">
                <canvas id="stock-dynamic-chart" width="800" height="200"></canvas>
            </div>
        </div>
        <div id="stockRecommendation"></div>
				<div id="stockSimulation"></div>
        <div id="stock-hourglass" style="display: none; font-size: 200px;">⏳</div>
    </div>
    <div id="option-trading" class="tab-content">
        <!-- Option Trading Content -->
        <br>
        <div>
            <label for="option-symbol">Stock Symbol:</label>
            <input type="text" id="option-symbol" value="NVDA" placeholder="Enter stock symbol">
        </div>
        <div>
            <label for="option-start-date">Start Date:</label>
            <input type="date" id="option-start-date">
            <label for="option-end-date">End Date:</label>
            <input type="date" id="option-end-date">
        </div>
        <button class="large-button" onclick="fetchData('option')">获取/展示数据</button>
        <button class="large-button" onclick="getOptionAdvice()">期权交易建议</button>
        <button class="large-button" onclick="simulateOption()">期权交易模拟</button>
        <div id="option-data">
            <canvas id="option-candle-chart" width="800" height="350"></canvas>
            <canvas id="option-macd-chart" width="800" height="160"></canvas>
            <canvas id="option-kdj-chart" width="800" height="160"></canvas>
            <div id="option-dynamic-chart-container" style="width: 960px; height: 200px;">
                <canvas id="option-dynamic-chart" width="800" height="200"></canvas>
            </div>
        </div>
        <div id="optionAdvice"></div>
        <div id="optionSimulation"></div>
        <div id="option-hourglass" style="display: none; font-size: 200px;">⏳</div>
    </div>

    <script src="static/js/fetchData.js"></script>
    <script src="static/js/stockChart.js"></script>
    <script src="static/js/resultDisplay.js"></script>
		<script src="static/js/transformer.js"></script>
    <script src="static/js/generateOptionAdvice.js"></script>
    <script src="static/js/simulateOptionTrade.js"></script>
		<script src="static/js/generateStockRecommendation.js"></script>
		<script src="static/js/simulateStockTrade.js"></script>
    <script src="static/js/main.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>